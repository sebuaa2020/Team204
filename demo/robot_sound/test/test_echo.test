<launch>
  <node name="talker_0" pkg="robot_sound" type="test_robot_sound.py">
    <remap from="robot_speak" to="~robot_speak" />
  </node>
  <node name="talker_1" pkg="robot_sound" type="test_robot_sound.py">
    <remap from="robot_speak" to="~robot_speak" />
  </node>
  <node name="robot_sound_online" pkg="robot_sound" type="robot_sound_node">
    <param name="online" type="bool" value="true" />
    <remap from="robot_speak" to="talker_0/robot_speak" />
    <remap from="xfyun/tts" to="~xfyun/tts" />
    <remap from="robotsound" to="~robotsound" />
  </node>
  <node name="robot_sound_offline" pkg="robot_sound" type="robot_sound_node">
    <param name="online" type="bool" value="false" />
    <remap from="robot_speak" to="talker_1/robot_speak" />
    <remap from="xfyun/tts" to="~xfyun/tts" />
    <remap from="robotsound" to="~robotsound" />
  </node>

  <test name="publishtest" test-name="publishtest" pkg="rostest" type="publishtest">
    <rosparam>
      topics:
      - name: talker_0/robot_speak
        timeout: 2
        negative: False
      - name: robot_sound_online/xfyun/tts
        timeout: 2
        negative: False
      - name: robot_sound_online/robotsound
        timeout: 2
        negative: True
    </rosparam>
  </test>
  <test name="publishtest2" test-name="publishtest2" pkg="rostest" type="publishtest">
    <rosparam>
      topics:
      - name: talker_1/robot_speak
        timeout: 2
        negative: False
      - name: robot_sound_offline/xfyun/tts
        timeout: 2
        negative: True
      - name: robot_sound_offline/robotsound
        timeout: 2
        negative: False
    </rosparam>
  </test>
</launch>